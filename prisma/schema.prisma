datasource db {
    provider = "postgresql"
    url = env("DB_URL")
}

generator client {
    provider = "prisma-client-js"
    previewFeatures = ["fullTextSearch"]
}

model Asset {
    ID          String      @db.Uuid @id @default(uuid())
    Type        String      @db.VarChar(32)
    Size        String      @db.VarChar(24)
    Status      Status      @default(AVAILABLE)
    TagID       String      @VarChar(64)
    DomainID    String      @db.Uuid
    Domain      Domain      @relation(fields: [DomainID],references: [DomainID])
}

model Domain {
    ID          String      @db.Uuid @id @default(uuid())
    Domain      String      @db.VarChar(64)
    Assets      Asset[]
    Students    Student[]
}

model Student {
    ID          String      @db.Uuid @id @default(uuid())
    FirstName   String      @db.VarChar(48)
    LastName    String      @db.VarChar(48)
    Email       String      @db.VarChar(128)
    Phone       String      @db.VarChar(24)
    Domains     Domain[]
    LoanHistory
}

model StudentDomain {
    StudentID   String      @Uuid
    Student     Student     @relation(fields: [StudentID], references: [ID])
    DomainID    String      @Uuid
    Domain      Domain      @relation(fields: [DomainID], references: [ID])
    @@id([StudentID,DomainID])
}

model LoanHistory {

}


enum Status {
    AVAILABLE
    ON_LEASE
    UNAVAILABLE
}