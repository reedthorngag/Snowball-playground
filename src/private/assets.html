<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Asset Manager</title>
    <link rel="stylesheet" href="css/tailwind.css">
    <link rel="stylesheet" href="css/style.css">
    <script>
      function refreshTable() {
        displayTable(test_assets); // replace Test Assets with API Call to obtain latest asset information
        document.getElementById("refreshButton").classList.add("rotate-animation");
        setTimeout(function () {
          document.getElementById("refreshButton").classList.remove("rotate-animation");
        }, 1000);
      }
      function addAssetDisp() {
        if (document.getElementById("createAsset").classList.contains("hidden")) {
        document.getElementById("createAsset").classList.remove("hidden");
        } else {
            document.getElementById("createAsset").classList.add("hidden");
        }
        document.getElementById("addButton").classList.add("scale-animation");
        setTimeout(function () {
          document.getElementById("addButton").classList.remove("scale-animation");
        }, 1000);
      }
      function editAsset() {
        document.getElementById("editButton").classList.add("scale-animation");
        setTimeout(function () {
          document.getElementById("editButton").classList.remove("scale-animation");
        }, 1000);
      }


    </script>
    <style>
      .rotate-animation {
        animation: rotate 0.3s cubic-bezier(0.1, 0.885, 0.5, 1.5) alternate;
      }

      @keyframes rotate {
        0% {
          transform: rotate(0deg) scale(1);
        }
        50% {
          transform: rotate(45deg) scale(1);
        }
        100% {
          transform: rotate(0deg) scale(1);
        }
      }
      .scale-animation {
        animation: scale 0.3s cubic-bezier(0.1, 0.885, 0.5, 1.5) alternate;
      }
        @keyframes scale {
          0% {
            transform: scale(1);
          }
          50% {
            transform: scale(1.2);
          }
          100% {
            transform: scale(1);
          }
          
        }
    </style>
  </head>

  <body class="flex flex-col gap-5">
    <span class="bg-custom-fail bg-custom-success bg-custom-error hidden"></span>
    <!-- Hidden span to load in colour classes -->
    <!-- Header -->
    <section class="flex justify-center items-center mb-10">
      <a href="dash">
        <img src="/img/logowide.png" alt="logo" class="w-screen" />
      </a>
    </section>
    <!-- End Header -->
    <div class="flex flex-col gap-5 p-5">
      <!-- Div for vertical flexbox -->
      <div class="flex gap-5">
        <!-- Flex container to horizontally format control scanner and database controll sections -->
        <!-- Control Scanner -->
        <section class="bg-custom-3 rounded-lg w-1/3 p-4 flex gap-2">
          <div class="flex w-5/6 justify-center items-center gap-2">
            <button onclick="connectScanner()" class="bg-custom-2 text-white hover:text-custom-2 hover:bg-opacity-30 duration-300 rounded-lg w-1/2 h-full font-bold text-lg">Connect</button>
            <button onclick="disconnectScanner()" class="bg-custom-2 text-white hover:text-custom-2 hover:bg-opacity-30 duration-300 rounded-lg w-1/2 h-full font-bold text-lg">Disconnect</button>
          </div>
          <p id="scannerStatus" class="bg-custom-fail rounded-lg p-4 w-1/6"></p>
        </section>
        <!-- End Control Scanner -->
        <!-- Database Controll -->
        <section class="bg-custom-3 rounded-lg w-2/3 p-4 flex gap-2 duration-300">
          <!-- buttons to control database -->
          <div class="flex flex-col justify-center items-center w-1/12 bg-custom-2 rounded-lg text-custom-3 p-2">
            <!-- button to refresh table -->
            <div onclick="refreshTable()" id="refreshButton">
              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-reload" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <path d="M19.933 13.041a8 8 0 1 1 -9.925 -8.788c3.899 -1 7.935 1.007 9.425 4.747"></path>
                <path d="M20 4v5h-5"></path>
              </svg>
            </div>
            <!-- button to add asset -->
            <div onclick="addAssetDisp()" id="addButton">
              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-plus" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <path d="M12 5l0 14"></path>
                <path d="M5 12l14 0"></path>
              </svg>
            </div>
            <!-- button to edit asset -->
            <div onclick="editAsset()" id="editButton">
              <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-pencil" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4"></path>
                <path d="M13.5 6.5l4 4"></path>
              </svg>
            </div>
          </div>
          <!-- form to add asset -->
          <div id="createAsset" class="hidden">
            <form class="flex gap-2 text-custom-2">
              <div class="bg-custom-4 rounded-lg p-2">
                <p>Type</p>
                <select id="assetType" class="p-1 rounded bg-custom-5">
                  <option>Shirt</option>
                  <option>Hoodie</option>
                  <option>Shorts</option>
                </select>
              </div>

              <div class="bg-custom-4 rounded-lg p-2">
                <p>Size</p>
                <select id="assetSize" class="p-1 rounded bg-custom-5">
                  <option>XS</option>
                  <option>S</option>
                  <option>M</option>
                  <option>L</option>
                  <option>XL</option>
                </select>
              </div>

              <div class="bg-custom-4 rounded-lg p-2">
                <p>Tag ID</p>
                <input type="text" id="displayTagID" size="30" class="p-1 rounded bg-custom-5" />
              </div>
              <div class="bg-custom-2 rounded-lg p-2 flex justify-center items-center text-custom-5 hover:bg-custom-1 duration-300">
                <button type="button" onclick="createAsset()">Confirm</button>
              </div>
            </form>
          </div>
        </section>
        <!-- End Database Controll -->
      </div>
      <!-- End Horizontal Flex Container -->
      <!-- View Database -->
      <section class="bg-custom-3 rounded-lg p-4">
        <table id="assetsTable" class="w-full">
          <tr>
            <th>Asset ID</th>
            <th>Type</th>
            <th>Size</th>
            <th>Status</th>
            <th>Previous Loans</th>
            <th>Assigned Tags</th>
          </tr>
        </table>
      </section>
      <!-- End View Database -->
    </div>
  </body>
</html>
